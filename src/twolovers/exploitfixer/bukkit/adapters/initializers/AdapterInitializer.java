package twolovers.exploitfixer.bukkit.adapters.initializers;

import com.comphenix.protocol.ProtocolLibrary;
import com.comphenix.protocol.ProtocolManager;
import org.bukkit.plugin.Plugin;
import twolovers.exploitfixer.bukkit.adapters.*;
import twolovers.exploitfixer.interfaces.managers.ModuleManager;

public class AdapterInitializer {
	public AdapterInitializer(final Plugin plugin, final ModuleManager moduleManager) {
		final ProtocolManager protocolManager = ProtocolLibrary.getProtocolManager();

		protocolManager.removePacketListeners(plugin);
		protocolManager.addPacketListener(new AbilitiesPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new ArmAnimationPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new BlockDigPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new BlockPlacePacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new CustomPayloadPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new EntityActionPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new KeepAlivePacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new PositionPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new SetCreativeSlotPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new TabCompletePacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new UpdateSignPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new UseEntityPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new UseItemPacketAdapter(plugin, moduleManager));
		protocolManager.addPacketListener(new WindowClickPacketAdapter(plugin, moduleManager));
	}
}
