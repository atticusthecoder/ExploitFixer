package twolovers.exploitfixer.bukkit.modules;

import org.bukkit.configuration.file.YamlConfiguration;
import twolovers.exploitfixer.interfaces.modules.CustomPayloadModule;
import twolovers.exploitfixer.shared.instanceables.Punishment;

public class BukkitCustomPayloadModule implements CustomPayloadModule {
	private boolean enabled;
	private int limit, otherLimit;
	private Punishment punishment;

	public BukkitCustomPayloadModule(final Object configYml) {
		reload(configYml);
	}

	final public Boolean isEnabled() {
		return enabled;
	}

	@Override
	public String getName() {
		return "CustomPayload";
	}

	@Override
	public Punishment getPunishment() {
		return punishment;
	}

	public void reload(Object configYml) {
		final YamlConfiguration configYml1 = (YamlConfiguration) configYml;

		enabled = configYml1.getBoolean("custompayload.enabled");
		limit = configYml1.getInt("custompayload.limit.normal");
		otherLimit = configYml1.getInt("custompayload.limit.other");
		this.punishment = new Punishment(configYml1.getBoolean("custompayload.punishment.enabled"), configYml1.getBoolean("custompayload.punishment.kick"), configYml1.getInt("custompayload.punishment.threshold"), configYml1.getStringList("custompayload.punishment.commands"));
	}

	public int getLimit() {
		return limit;
	}

	public int getOtherLimit() {
		return otherLimit;
	}
}
